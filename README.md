# GophKeeper ![покрытие тестами клиента](client/coverage.svg) ![покрытие тестами сервера](server/coverage.svg)

GophKeeper — это безопасное клиент-серверное приложение для хранения и управления личными секретами, такими как пароли, заметки, данные банковских карт и произвольные двоичные данные. Он предоставляет интерфейс командной строки (CLI) с терминальным пользовательским интерфейсом (TUI) для простого взаимодействия.

![демо](demo.gif)

## Возможности

- **Безопасное хранилище:** Все данные шифруются на стороне клиента перед отправкой на сервер.
- **Несколько типов данных:** Храните различные типы секретов:
    - Логины и пароли
    - Защищенные заметки
    - Информация о банковских картах
    - Двоичные данные (например, документы, изображения)
- **Терминальный пользовательский интерфейс (TUI):** Удобный и эффективный TUI для управления вашими секретами.
- **gRPC-коммуникация:** Связь между клиентом и сервером осуществляется через gRPC для эффективности и безопасности.
- **Аутентификация:** Для доступа к сервису требуется регистрация и аутентификация пользователя.

## Архитектура

Приложение состоит из двух основных компонентов:

- **Сервер:** Приложение на Go, которое обрабатывает аутентификацию пользователей, хранение и извлечение данных. Оно использует базу данных SQLite для хранения зашифрованных пользовательских данных.
- **Клиент:** Приложение на Go, которое предоставляет TUI для взаимодействия пользователей с сервисом. Оно обрабатывает шифрование и дешифрование данных локально.

Связь между клиентом и сервером устанавливается с использованием gRPC.

Архитектура приложений вдохновлена проектом [WTF Dial](https://github.com/benbjohnson/wtf) (подробнее - https://www.gobeyond.dev/packages-as-layers/), где
структура проекта строится следующим образом:
1. Доменные типы хранятся в корневом пакете (пользователи, логины, данные карт и т.д.)
2. Их имплементации - в соответствующих пакетах (`sqlite`, `inmem`, `grpc`, `mock` и т.д.)
3. Все связывается в `cmd`

## Используемые технологии

- **Go:** Основной язык программирования как для клиента, так и для сервера.
- **gRPC:** Для клиент-серверной коммуникации.
- **SQLite:** В качестве базы данных для сервера.
- [**Mage:**](https://magefile.org/) В качестве инструмента сборки для автоматизации.
- [**charmbracelet/bubbletea:**](https://github.com/charmbracelet/bubbletea) Для создания терминального пользовательского интерфейса (TUI) на клиенте.
- [**uber/fx:**](https://github.com/uber-go/fx) DI-фреймворк для сервера и клиента. 

## Начало работы

### Предварительные требования

- Go 1.25 или выше

### Установка и запуск

1. **Установите Mage (если он еще не установлен):**
   ```bash
   go run mage.go EnsureMage
   ```

2. **Запустите сервер:**
   ```bash
   cd server
   mage run
   ```

3. **В другом окне терминала запустите клиент:**
   ```bash
   cd client
   mage run
   ```

## Использование

Клиентское приложение управляется с помощью сочетаний клавиш в TUI. Интерфейс проведет вас через вход в систему, регистрацию и управление вашими секретами. Строка состояния в нижней части экрана предоставляет контекстную справку и доступные команды.
